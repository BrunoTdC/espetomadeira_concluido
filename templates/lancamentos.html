<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--Bootstrap CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <!--font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!--JQUERY-->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!--SELECT2-->
    <link rel="stylesheet" href="../static/css/select2.css"  />
    <script src="../static/scripts/select2.js"></script>
    
    <title>Lançamentos</title>
</head>
<body style="overflow-x: hidden; overflow-y: visible; position: relative; ">

    <!--Barra de navegação-->
<<<<<<< HEAD
    <ul class="nav nav-tabs bg-primary sticky-top" style="margin-bottom: 5px; z-index: 1;">
=======
    <ul class="nav nav-tabs bg-primary sticky-top" style="margin-bottom: 5px;">
>>>>>>> 5afc2bbba9eb8557de479795647bfe2efe23de58
        <li class="nav-item">
          <a class="nav-link text-white" href="home.html">HOME</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="lancamentos.html">LANÇAMENTOS</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="banco.html">A PAGAR</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="despesas.html">DESPESAS</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-warning " href="{{url_for('logout')}}">SAIR</a>
        </li>
      </ul>
    <!--Fim da Barra de navegação-->
    
   

    <div class="container-md " style="margin-top: 5px; ; height: 600px;">
      <div class="row justify-content-center">
        <div class="col-3">
           <!--FORMULÁRIO-->
          <form action="{{url_for('lancamentos')}}" method="POST" class="formulario_lancamentos sticky-top" style="background-color: #AFEEEE;height: 100vh;">
            <!--CAMPO DATA-->
          <div>

            <label for="dateInput" class="row-md-11 row-form-label label">Data</label>
            <div class="row-md-11">
              <style>
                input[type="date"]:hover::-webkit-calendar-picker-indicator {
                  background-color: #00c3ff;
                  border-radius: 20px;
                }
              </style>
              <input type="date" class="form-control label" id="dateInput" name="data" required>
              <script>
                let today = new Date().toISOString().substring(0,10);
                document.getElementById("dateInput").value = today;
              </script>
            </div>

          </div>
        <!--FIM CAMPO DATA-->
        <!--CAMPO CODIGO-->
        <div >
          <label for="codigo" class="row-md-11 row-form-label label">Código</label>
          <div class="row-md-11">
            <select name="codigo" class="form-control form-select label select2" required>
              <option value="" selected>select...</option>
              
              <optgroup label="1 DESPESAS COM FUNCIONARIOS">
                <option value="1">1 - FOLHA DE PAGAMENTO</option>
                <option value="11">11 - FOLHA ADIANTAMENTO </option>
                <option value="12">12 - FOLHA VALE </option>
                <option value="13">13 - VALE TRANSPORTE</option>
                <option value="14">14 - FOLHA RESCISÕES</option>
                <option value="15">15 - FOLHA FÉRIAS</option>
                <option value="16">16 - FOLHA 13º SALÁRIO  </option>
                <option value="17">17 - FOLHA EXTRAS DIVERSAS</option>
                <option value="18">18 - PONTUAÇÃO 10% </option>
                <option value="19">19 - PONTUAÇÃO 20%  </option>
              </optgroup>

              <optgroup label="2 - INSUMO">
                <option value="21">21 - INSUMO DIVERSO</option>
                <option value="22">22 - INUMO SOBREMESA</option>
                <option value="23">23 - INSUMO CAFÉ</option>
                <option value="24">24 - INSUMO PÃO DE ALHO</option>
                <option value="25">25 - INSUMO HORTIFRUTI</option>
                <option value="26">26 - INSUMO LATICÍNIO/POLPA</option>
                <option value="27">27 - INSUMO CARNES</option>
                <option value="28">28 - INSUMO FRANGO</option>
                <option value="29">29 - INSUMO PESCADO</option>
                <option value="30">30 - INSUMO CERVEJA/REFRIGERANTE</option>
                <option value="31">31 - INSUMO ÁGUA</option>
                <option value="32">32 - INSUMO BEBIDA QUENTE</option>
                <option value="33">33 - EQUIPAMENTO</option>
                <option value="34">34 - UNIFORME</option>
                <option value="35">35 - LAVANDERIA</option>
                <option value="36">36 - MANUTENCAO EQUIPAMENTOS/PRÉDIO</option>
              </optgroup>

              <optgroup label="4 - GRÁFICA/COMANDA/CARDÁPIO/PAPELARIA/ESCRITÓRIO">
                <option value="41">41 - COMANDA/CARDÁPIO/ESCRITÓRIO/PAPELARIA</option>
                <option value="42">42 - PROMOÇÃO/DIVULGAÇÃO</option>
              </optgroup>

              <optgroup label="5 - ALUGUEIS / IPTU">
                <option value="51">51 - ALUGUEL</option>
                <option value="52">52 - IPTU</option>
              </optgroup>

              <optgroup label="6 - SABESP/ENEL/GÁS/ INTERNET/ CARVÃO">
                <option value="61">61 - SABESP</option>
                <option value="62">62 - ENEL</option>
                <option value="63">63 - GÁS</option>
                <option value="64">64 - INTERNET</option>
                <option value="65">65 - CARVÃO</option>
                <option value="66">66 - COMBUSTIVEL</option>
              </optgroup>

              <optgroup label="7 - IMPOSTOS">
                <option value="71">71 - IMPOSTO ICMS</option>
                <option value="72">72 - IMPOSTO GPS</option>
                <option value="73">73 - IMPOSTO SINDICATO </option>
                <option value="74">74 - IMPOSTO DARF</option>
                <option value="75">75 - IMPOSTO SIMPLES</option>
                <option value="76">76 - IMPOSTO DAMSP</option>
                <option value="77">77 - IMPOSTO INSS</option>
                <option value="78">78 - IMPOSTO FGTS</option>
                <option value="79">79 - IMPOSTO OUTROS</option>
              </optgroup>

              <optgroup label="8 - CONTRATOS DIVERSOS">
                <option value="81">81 - CONTRATO DEDETIZÇÃO</option>
                <option value="82">82 - CONTRATO  CONTABILIDADE</option>
                <option value="83">83 - CONTRATO WYSE/DELTA</option>
                <option value="84">84 - CONTRATO MED.OCUP.</option>
                <option value="85">85 - CONTRATO MULTILIXO</option>
                <option value="86">86 - CONTRATO  EMPREST. BRADESCO</option>
                <option value="87">87 - CONTRATO NUTRICIONISTA</option>
                <option value="88">88 - CONTRATO OUTROS</option>
                <option value="89">89 - CONTRATO PROLABORE</option>
              </optgroup>

              <optgroup label="9 -  DESPESAS">
                <option value="91">91 - DESPESA BANCÁRIA</option>
                <option value="92">92 - JUROS</option>
                <option value="93">93 - DESPESAS DIVERSAS</option>
                <option value="94">94 - LIMPEZA</option>
                <option value="95">95 - DESCARTAVEL</option>
                <option value="96">96 - EMBALAGEM </option>
                <option value="97">97 - TAXA CATÃO</option>
              </optgroup>
            </select>
            
          </div>
        </div>
        <!--FIM CAMPO CODIGO-->
         <!--CAMPO DESCRIÇÃO-->
         <div >
          <label for="descricao" class="row-md-11 row-form-label label">Descrição</label>
          <div class="row-md-11">
            <input type="text" class="form-control label" id="descricao" name="descricao" required>
          </div>
        </div>
        <!--FIM CAMPO DESCRIÇÃO-->
         <!--CAMPOS DE TIPO-->
         <div >
          <label class="row-md-10 row-form-label label">Forma de Pagamento</label>
          <div class="row-md-10">
            <select name="forma" class="form-control form-select label" required>
              <option value="" selected>select...</option>
              <option value="Dinheiro">Dinheiro</option>
              <option value="Débito">Cartão de Débito</option>
              <option value="Crédito">Cartão de Crédito</option>
            </select>
          </div>
        </div>
        <!--FIM CAMPOS DE TIPO-->
         <!--CAMPOS DE TIPO-->
         <div >
          <label class="row-md-10 row-form-label label">Tipo</label>
          <div class="row-md-10">
            <select name="tipo" class="form-control form-select label" required>
              <option value="" selected>select...</option>
              <option value="entrada">Entrada</option>
              <option value="saida">Saída</option>
            </select>
          </div>
        </div>
        <!--FIM CAMPOS DE TIPO-->
             <!--CAMPO VALOR-->
              <div>
                <label for="codigo" class="row-md-11 row-form-label label">Valor R$</label>
                <div class="row-md-11">
                  <input type="text" class="form-control label" id="valor" name="valor" required>
                </div>
            </div>
             <!--FIM CAMPO VALOR-->
            <div class="col-md-1.9" style="background-color: #AFEEEE;">
              <button type="submit" class="btn btn-success mt-3 text-center">Salvar</button>
              <button type="reset" class="btn btn-warning mt-3 text-center" id="reset">limpar</button>
            </div>
          </form>
          <!--FIM DO FORMULÁRIO-->
        </div>
        <div class="col-9">
          <table  class="table table-bordered table-sm table-hover">
            <thead class="text-center table-primary">
              <tr>
                <th>ID</th>
                <th>Data</th>
                <th>Código</th>
                <th>Descrição</th>
                <th>Forma de pagamento</th>
                <th>Tipo</th>
                <th>Valor</th>
                <th>Usuario</th>
                <th>Controles</th>
              </tr>
            </thead>
            {% for linha in result %}
              <tbody>
                <style>
                  .center{
                    text-align: center;
                  }
                </style>
                <tr>
                  <td>{{linha[0]}}</td>
                  <td>{{linha[1]}}</td>
                  <td>{{linha[2]}}</td>
                  <td>{{linha[3]}}</td>
                  <td>{{linha[4]}}</td>
                  {% if linha[5] == "entrada" %}
                  <td class="text-success"><strong>{{linha[5]}}</strong></td>
                  {% else %}
                  <td class="text-danger"><strong>{{linha[5]}}</strong></td>
                  {% endif %}
                  <td>R$ {{ '%0.2f'|format(linha[6]) | replace(".", ",")}}</td>
                  <td>{{linha[7]}}</td>
                  <td class="center">
                    <div class="row justify-content-xl-center">
                      <div class="col-md-6" >
                        <form action="{{url_for('update')}}" method="POST">
                          <input type="number" name="id" value="{{linha[0]}}" hidden>
                          <button type="submit" class="btn btn-warning btn-sm"><i class="fa-solid fa-pen-to-square fa-xl"></i></button>
                        </form>
                      </div>
                      <div class="col-md-6" >
                        <form  action="{{url_for('excluir')}}"  method="POST">
                          <input type="number" name="id" value="{{linha[0]}}" hidden>
                          <button type="submit" class="btn btn-danger btn-sm"><i class="fa-solid fa-trash-can fa-xl"></i></button>
                        </form>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            {% endfor %}
          </table>
        </div>
      </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
    <script>
      $(document).ready(function() {
          $('.select2').select2();
      });

      $(function(){
        $("#reset").click(function(){
          $(".select2").select2('val', 0);
        });
      });

    </script>
</body>
</html>
